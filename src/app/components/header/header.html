<header class="fixed top-0 left-0 right-0 z-50 bg-background/90 backdrop-blur-md border-b border-border"
    style="view-transition-name: header-estatico;">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16 md:h-20">

            <button (click)="toggleMenu()" class="md:hidden p-2 -ml-2">
                <lucide-icon [name]="isMenuOpen ? XIcon : MenuIcon" class="h-5 w-5"></lucide-icon>
            </button>

            <a routerLink="/" class="font-serif text-2xl md:text-3xl tracking-wider cursor-pointer">
                NOIR
            </a>

            <nav class="hidden md:flex items-center gap-8">
                <a routerLink="/products"
                    class="text-sm tracking-wide hover:text-muted-foreground transition-colors cursor-pointer">
                    NOVIDADES
                </a>
                <a [routerLink]="['/products']" [queryParams]="{category: 'feminino'}"
                    class="text-sm tracking-wide hover:text-muted-foreground transition-colors cursor-pointer">
                    FEMININO
                </a>
                <a [routerLink]="['/products']" [queryParams]="{category: 'masculino'}"
                    class="text-sm tracking-wide hover:text-muted-foreground transition-colors cursor-pointer">
                    MASCULINO
                </a>
                <a [routerLink]="['/products']" [queryParams]="{category: 'acessorios'}"
                    class="text-sm tracking-wide hover:text-muted-foreground transition-colors cursor-pointer">
                    PRODUTOS
                </a>
            </nav>

            <div class="flex items-center gap-2 md:gap-4">
                <button class="hidden md:flex p-2 hover:bg-accent rounded-md">
                    <lucide-icon [name]="SearchIcon" class="h-5 w-5"></lucide-icon>
                </button>

                <button (click)="themeService.toggleDarkMode()" class="p-2 rounded-full hover:bg-accent">
                    <lucide-icon [name]="themeService.darkMode() ? SunIcon : MoonIcon" class="h-5 w-5"></lucide-icon>
                </button>

                <a routerLink="/login" class="hidden md:flex p-2 hover:bg-accent rounded-md">
                    <lucide-icon [name]="UserIcon" class="h-5 w-5"></lucide-icon>
                </a>

                <a routerLink="/cart" class="relative p-2 hover:bg-accent rounded-md">
                    <lucide-icon [name]="ShoppingBagIcon" class="h-5 w-5"></lucide-icon>
                    <span
                        class="absolute -top-1 -right-1 h-4 w-4 bg-primary text-primary-foreground text-[10px] flex items-center justify-center rounded-full">
                        2
                    </span>
                </a>
            </div>
        </div>
    </div>

    @if (isMenuOpen) {
    <div class="md:hidden border-t border-border bg-background">
        <nav class="flex flex-col py-4">
            <a routerLink="/products" (click)="isMenuOpen = false"
                class="px-6 py-3 text-sm tracking-wide hover:bg-accent">
                NOVIDADES
            </a>
            <a [routerLink]="['/products']" [queryParams]="{category: 'feminino'}" (click)="isMenuOpen = false"
                class="px-6 py-3 text-sm tracking-wide hover:bg-accent">
                FEMININO
            </a>
            <a [routerLink]="['/products']" [queryParams]="{category: 'masculino'}" (click)="isMenuOpen = false"
                class="px-6 py-3 text-sm tracking-wide hover:bg-accent">
                MASCULINO
            </a>
            <a [routerLink]="['/products']" [queryParams]="{category: 'acessorios'}" (click)="isMenuOpen = false"
                class="px-6 py-3 text-sm tracking-wide hover:bg-accent">
                ACESSORIOS
            </a>
        </nav>
    </div>
    }
</header>